image:
  repository: postgres
  tag: "16-alpine"
  pullPolicy: IfNotPresent

service:
  type: ClusterIP
  port: 5432       # Service port (same for dev and prod)
  targetPort: 5432 # Container port

resources:
  limits:
    cpu: 1000m
    memory: 1Gi
  requests:
    cpu: 500m
    memory: 512Mi

# PostgreSQL Configuration
postgres:
  # Master user credentials
  user: postgres
  password: postgres
  
  # Database for command and query services (shared)
  database: wanderer_db
  username: wanderer
  userPassword: password
  
  # Database for auth service (separate)
  authDatabase: wanderer_auth_db
  authUsername: wanderer_auth
  authPassword: password

# Persistent Storage
# Uses existing PVC created by infra repo
persistence:
  enabled: true
  existingClaim: "postgres-dev-pvc"  # PVC name from infra repo (postgres-pvc for prod, postgres-dev-pvc for dev)

# Security context for NFS compatibility
securityContext:
  enabled: true
  runAsUser: 911    # NFS server user ID
  runAsGroup: 911   # NFS server group ID
  fsGroup: 911      # File system group

# Environment configuration
environment:
  name: "prod"  # dev or prod
  suffix: ""    # "-dev" for dev environment, "" for prod

# Node selection (target node without disk pressure)
# Removed nodeSelector to allow scheduling on any available node
nodeSelector: {}

# Tolerations (to allow scheduling on nodes with taints)
tolerations: []
